\hypertarget{vsf__heap_8c}{}\doxysection{source/service/heap/vsf\+\_\+heap.c 文件参考}
\label{vsf__heap_8c}\index{source/service/heap/vsf\_heap.c@{source/service/heap/vsf\_heap.c}}
{\ttfamily \#include \char`\"{}service/vsf\+\_\+service\+\_\+cfg.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vsf\+\_\+heap.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}utilities/vsf\+\_\+utilities.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}hal/arch/vsf\+\_\+arch.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}kernel/vsf\+\_\+kernel.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../pool/vsf\+\_\+pool.\+h\char`\"{}}\newline
\doxysubsection*{结构体}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structvsf__heap__mcb__t}{vsf\+\_\+heap\+\_\+mcb\+\_\+t}}
\item 
struct \mbox{\hyperlink{structvsf__default__heap__t}{vsf\+\_\+default\+\_\+heap\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{vsf__heap_8c_a2ec353a8bb5afd8d27aa39b0c6955fb3}{\+\_\+\+\_\+\+VSF\+\_\+\+HEAP\+\_\+\+CLASS\+\_\+\+IMPLEMENT}}
\item 
\#define \mbox{\hyperlink{vsf__heap_8c_a08aaaa8212d2837a39fcc15bb19ef79b}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN\+\_\+\+BIT}}~2
\item 
\#define \mbox{\hyperlink{vsf__heap_8c_a5194d267e39ea41179a37c8f8cbd24a4}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN}}~(1 $<$$<$ \mbox{\hyperlink{vsf__heap_8c_a08aaaa8212d2837a39fcc15bb19ef79b}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN\+\_\+\+BIT}})
\item 
\#define \mbox{\hyperlink{vsf__heap_8c_a4a5cfb617554a5d907353f75e9043977}{VSF\+\_\+\+HEAP\+\_\+\+MCB\+\_\+\+MAGIC}}~0x1ea01ea0
\item 
\#define \mbox{\hyperlink{vsf__heap_8c_a229efc212958c77f116f6bc27bef3835}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+FREELIST\+\_\+\+NUM}}~1
\item 
\#define \mbox{\hyperlink{vsf__heap_8c_a307caec636e4fdd47d3a8a42fef1378f}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+PROTECT\+\_\+\+LEVEL}}~scheduler
\item 
\#define \mbox{\hyperlink{vsf__heap_8c_ac86eca60e56ec07c8bcf33bd83cd8dd0}{\+\_\+\+\_\+vsf\+\_\+heap\+\_\+protect}}~vsf\+\_\+protect(\mbox{\hyperlink{vsf__heap_8c_a307caec636e4fdd47d3a8a42fef1378f}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+PROTECT\+\_\+\+LEVEL}})
\item 
\#define \mbox{\hyperlink{vsf__heap_8c_a7dcf7db9bcfbe2cc8942bcab26adbda5}{\+\_\+\+\_\+vsf\+\_\+heap\+\_\+unprotect}}~vsf\+\_\+unprotect(\mbox{\hyperlink{vsf__heap_8c_a307caec636e4fdd47d3a8a42fef1378f}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+PROTECT\+\_\+\+LEVEL}})
\item 
\#define \mbox{\hyperlink{vsf__heap_8c_aac70af4eaee5b75f98afa95ab9eb153f}{\+\_\+\+\_\+vsf\+\_\+mcb\+\_\+get\+\_\+size}}(\+\_\+\+\_\+mcb)~((\+\_\+\+\_\+mcb)-\/$>$\mbox{\hyperlink{vsf__msg__tree_8h_afa9360287850ff1c4466d8bed43341ae}{linear.\+next}} $<$$<$ \mbox{\hyperlink{vsf__heap_8c_a08aaaa8212d2837a39fcc15bb19ef79b}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN\+\_\+\+BIT}})
\item 
\#define \mbox{\hyperlink{vsf__heap_8c_a5834178d717c98e4487ba8a3cb84f4da}{\+\_\+\+\_\+vsf\+\_\+mcb\+\_\+get\+\_\+prev\+\_\+size}}(\+\_\+\+\_\+mcb)~((\+\_\+\+\_\+mcb)-\/$>$linear.\+prev $<$$<$ \mbox{\hyperlink{vsf__heap_8c_a08aaaa8212d2837a39fcc15bb19ef79b}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN\+\_\+\+BIT}})
\end{DoxyCompactItemize}
\doxysubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structvsf__heap__mcb__t}{vsf\+\_\+heap\+\_\+mcb\+\_\+t}} \mbox{\hyperlink{vsf__heap_8c_a2dd06b2a1b054863ad07c88a913da0ae}{vsf\+\_\+heap\+\_\+mcb\+\_\+t}}
\item 
typedef struct \mbox{\hyperlink{structvsf__default__heap__t}{vsf\+\_\+default\+\_\+heap\+\_\+t}} \mbox{\hyperlink{vsf__heap_8c_ae71ce1ddb23cb284935e4545a6cc3bc2}{vsf\+\_\+default\+\_\+heap\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structvsf__dlist__t}{vsf\+\_\+dlist\+\_\+t}} $\ast$ \mbox{\hyperlink{vsf__heap_8c_a60fa93c453f5d3d81c7575733247651b}{vsf\+\_\+heap\+\_\+get\+\_\+freelist}} (\mbox{\hyperlink{structvsf__dlist__t}{vsf\+\_\+dlist\+\_\+t}} $\ast$freelist, \mbox{\hyperlink{arm_2type_8h_ad0906fbe05a45fbdb000c58fe8929e70}{uint\+\_\+fast8\+\_\+t}} freelist\+\_\+num, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__memfs_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}})
\item 
void \mbox{\hyperlink{vsf__heap_8c_af18457c1351f707450f4771e0e30a8db}{\+\_\+\+\_\+vsf\+\_\+heap\+\_\+add\+\_\+buffer}} (\mbox{\hyperlink{classvsf__heap__t}{vsf\+\_\+heap\+\_\+t}} $\ast$heap, \mbox{\hyperlink{arm_2type_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} $\ast$buffer, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__memfs_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}})
\item 
void $\ast$ \mbox{\hyperlink{vsf__heap_8c_a4dd2d3960b429d8a9bd16aa6fa029933}{\+\_\+\+\_\+vsf\+\_\+heap\+\_\+malloc\+\_\+aligned}} (\mbox{\hyperlink{classvsf__heap__t}{vsf\+\_\+heap\+\_\+t}} $\ast$heap, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__memfs_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}}, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} alignment)
\item 
void $\ast$ \mbox{\hyperlink{vsf__heap_8c_a4da8ecf1dbaed5f40253b7b4867c9f19}{\+\_\+\+\_\+vsf\+\_\+heap\+\_\+realloc\+\_\+aligned}} (\mbox{\hyperlink{classvsf__heap__t}{vsf\+\_\+heap\+\_\+t}} $\ast$heap, void $\ast$buffer, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__memfs_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}}, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} alignment)
\item 
void \mbox{\hyperlink{vsf__heap_8c_aeee44f42878bf9dc08d5d263c5dac20e}{\+\_\+\+\_\+vsf\+\_\+heap\+\_\+free}} (\mbox{\hyperlink{classvsf__heap__t}{vsf\+\_\+heap\+\_\+t}} $\ast$heap, void $\ast$buffer)
\item 
void \mbox{\hyperlink{vsf__heap_8c_a3e448f4f5f922bd49ba5142fc63f42f7}{vsf\+\_\+heap\+\_\+init}} (void)
\item 
void \mbox{\hyperlink{vsf__heap_8c_a70c9f02120f78e0696c6edb495e152c5}{vsf\+\_\+heap\+\_\+add\+\_\+buffer}} (\mbox{\hyperlink{arm_2type_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} $\ast$buffer, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__memfs_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}})
\item 
void \mbox{\hyperlink{vsf__heap_8c_a38303bc103ca8d7cf3229534ff7ab0f7}{vsf\+\_\+heap\+\_\+add\+\_\+memory}} (\mbox{\hyperlink{structvsf__mem__t}{vsf\+\_\+mem\+\_\+t}} mem)
\item 
void $\ast$ \mbox{\hyperlink{vsf__heap_8c_a3edeaf89a48b4f1f456ed0a9d466f6e1}{vsf\+\_\+heap\+\_\+malloc\+\_\+aligned}} (\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__memfs_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}}, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} alignment)
\item 
void $\ast$ \mbox{\hyperlink{vsf__heap_8c_a85f7dab9811d95217dff06d56f6cda18}{vsf\+\_\+heap\+\_\+malloc}} (\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__memfs_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}})
\item 
void $\ast$ \mbox{\hyperlink{vsf__heap_8c_abfcb8e44844feb822a188f93c24b6628}{vsf\+\_\+heap\+\_\+realloc\+\_\+aligned}} (void $\ast$buffer, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__memfs_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}}, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} alignment)
\item 
void $\ast$ \mbox{\hyperlink{vsf__heap_8c_ad1bd00550be027ce58c5ce9d645dddd2}{vsf\+\_\+heap\+\_\+realloc}} (void $\ast$buffer, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__memfs_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}})
\item 
void \mbox{\hyperlink{vsf__heap_8c_ac59c4c88dba19eb3b1fba0165aa33868}{vsf\+\_\+heap\+\_\+free}} (void $\ast$buffer)
\end{DoxyCompactItemize}
\doxysubsection*{变量}
\begin{DoxyCompactItemize}
\item 
const i\+\_\+heap\+\_\+t \mbox{\hyperlink{vsf__heap_8c_a979f4f6bbe6945078a75c9b429c6fce5}{VSF\+\_\+\+HEAP}}
\end{DoxyCompactItemize}


\doxysubsection{宏定义说明}
\mbox{\Hypertarget{vsf__heap_8c_a2ec353a8bb5afd8d27aa39b0c6955fb3}\label{vsf__heap_8c_a2ec353a8bb5afd8d27aa39b0c6955fb3}} 
\index{vsf\_heap.c@{vsf\_heap.c}!\_\_VSF\_HEAP\_CLASS\_IMPLEMENT@{\_\_VSF\_HEAP\_CLASS\_IMPLEMENT}}
\index{\_\_VSF\_HEAP\_CLASS\_IMPLEMENT@{\_\_VSF\_HEAP\_CLASS\_IMPLEMENT}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{\_\_VSF\_HEAP\_CLASS\_IMPLEMENT}{\_\_VSF\_HEAP\_CLASS\_IMPLEMENT}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+\+VSF\+\_\+\+HEAP\+\_\+\+CLASS\+\_\+\+IMPLEMENT}

\mbox{\Hypertarget{vsf__heap_8c_a08aaaa8212d2837a39fcc15bb19ef79b}\label{vsf__heap_8c_a08aaaa8212d2837a39fcc15bb19ef79b}} 
\index{vsf\_heap.c@{vsf\_heap.c}!VSF\_HEAP\_CFG\_MCB\_ALIGN\_BIT@{VSF\_HEAP\_CFG\_MCB\_ALIGN\_BIT}}
\index{VSF\_HEAP\_CFG\_MCB\_ALIGN\_BIT@{VSF\_HEAP\_CFG\_MCB\_ALIGN\_BIT}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{VSF\_HEAP\_CFG\_MCB\_ALIGN\_BIT}{VSF\_HEAP\_CFG\_MCB\_ALIGN\_BIT}}
{\footnotesize\ttfamily \#define VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN\+\_\+\+BIT~2}

\mbox{\Hypertarget{vsf__heap_8c_a5194d267e39ea41179a37c8f8cbd24a4}\label{vsf__heap_8c_a5194d267e39ea41179a37c8f8cbd24a4}} 
\index{vsf\_heap.c@{vsf\_heap.c}!VSF\_HEAP\_CFG\_MCB\_ALIGN@{VSF\_HEAP\_CFG\_MCB\_ALIGN}}
\index{VSF\_HEAP\_CFG\_MCB\_ALIGN@{VSF\_HEAP\_CFG\_MCB\_ALIGN}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{VSF\_HEAP\_CFG\_MCB\_ALIGN}{VSF\_HEAP\_CFG\_MCB\_ALIGN}}
{\footnotesize\ttfamily \#define VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN~(1 $<$$<$ \mbox{\hyperlink{vsf__heap_8c_a08aaaa8212d2837a39fcc15bb19ef79b}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN\+\_\+\+BIT}})}

\mbox{\Hypertarget{vsf__heap_8c_a4a5cfb617554a5d907353f75e9043977}\label{vsf__heap_8c_a4a5cfb617554a5d907353f75e9043977}} 
\index{vsf\_heap.c@{vsf\_heap.c}!VSF\_HEAP\_MCB\_MAGIC@{VSF\_HEAP\_MCB\_MAGIC}}
\index{VSF\_HEAP\_MCB\_MAGIC@{VSF\_HEAP\_MCB\_MAGIC}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{VSF\_HEAP\_MCB\_MAGIC}{VSF\_HEAP\_MCB\_MAGIC}}
{\footnotesize\ttfamily \#define VSF\+\_\+\+HEAP\+\_\+\+MCB\+\_\+\+MAGIC~0x1ea01ea0}

\mbox{\Hypertarget{vsf__heap_8c_a229efc212958c77f116f6bc27bef3835}\label{vsf__heap_8c_a229efc212958c77f116f6bc27bef3835}} 
\index{vsf\_heap.c@{vsf\_heap.c}!VSF\_HEAP\_CFG\_FREELIST\_NUM@{VSF\_HEAP\_CFG\_FREELIST\_NUM}}
\index{VSF\_HEAP\_CFG\_FREELIST\_NUM@{VSF\_HEAP\_CFG\_FREELIST\_NUM}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{VSF\_HEAP\_CFG\_FREELIST\_NUM}{VSF\_HEAP\_CFG\_FREELIST\_NUM}}
{\footnotesize\ttfamily \#define VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+FREELIST\+\_\+\+NUM~1}

\mbox{\Hypertarget{vsf__heap_8c_a307caec636e4fdd47d3a8a42fef1378f}\label{vsf__heap_8c_a307caec636e4fdd47d3a8a42fef1378f}} 
\index{vsf\_heap.c@{vsf\_heap.c}!VSF\_HEAP\_CFG\_PROTECT\_LEVEL@{VSF\_HEAP\_CFG\_PROTECT\_LEVEL}}
\index{VSF\_HEAP\_CFG\_PROTECT\_LEVEL@{VSF\_HEAP\_CFG\_PROTECT\_LEVEL}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{VSF\_HEAP\_CFG\_PROTECT\_LEVEL}{VSF\_HEAP\_CFG\_PROTECT\_LEVEL}}
{\footnotesize\ttfamily \#define VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+PROTECT\+\_\+\+LEVEL~scheduler}

\mbox{\Hypertarget{vsf__heap_8c_ac86eca60e56ec07c8bcf33bd83cd8dd0}\label{vsf__heap_8c_ac86eca60e56ec07c8bcf33bd83cd8dd0}} 
\index{vsf\_heap.c@{vsf\_heap.c}!\_\_vsf\_heap\_protect@{\_\_vsf\_heap\_protect}}
\index{\_\_vsf\_heap\_protect@{\_\_vsf\_heap\_protect}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{\_\_vsf\_heap\_protect}{\_\_vsf\_heap\_protect}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+vsf\+\_\+heap\+\_\+protect~vsf\+\_\+protect(\mbox{\hyperlink{vsf__heap_8c_a307caec636e4fdd47d3a8a42fef1378f}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+PROTECT\+\_\+\+LEVEL}})}

\mbox{\Hypertarget{vsf__heap_8c_a7dcf7db9bcfbe2cc8942bcab26adbda5}\label{vsf__heap_8c_a7dcf7db9bcfbe2cc8942bcab26adbda5}} 
\index{vsf\_heap.c@{vsf\_heap.c}!\_\_vsf\_heap\_unprotect@{\_\_vsf\_heap\_unprotect}}
\index{\_\_vsf\_heap\_unprotect@{\_\_vsf\_heap\_unprotect}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{\_\_vsf\_heap\_unprotect}{\_\_vsf\_heap\_unprotect}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+vsf\+\_\+heap\+\_\+unprotect~vsf\+\_\+unprotect(\mbox{\hyperlink{vsf__heap_8c_a307caec636e4fdd47d3a8a42fef1378f}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+PROTECT\+\_\+\+LEVEL}})}

\mbox{\Hypertarget{vsf__heap_8c_aac70af4eaee5b75f98afa95ab9eb153f}\label{vsf__heap_8c_aac70af4eaee5b75f98afa95ab9eb153f}} 
\index{vsf\_heap.c@{vsf\_heap.c}!\_\_vsf\_mcb\_get\_size@{\_\_vsf\_mcb\_get\_size}}
\index{\_\_vsf\_mcb\_get\_size@{\_\_vsf\_mcb\_get\_size}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{\_\_vsf\_mcb\_get\_size}{\_\_vsf\_mcb\_get\_size}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+vsf\+\_\+mcb\+\_\+get\+\_\+size(\begin{DoxyParamCaption}\item[{}]{\+\_\+\+\_\+mcb }\end{DoxyParamCaption})~((\+\_\+\+\_\+mcb)-\/$>$\mbox{\hyperlink{vsf__msg__tree_8h_afa9360287850ff1c4466d8bed43341ae}{linear.\+next}} $<$$<$ \mbox{\hyperlink{vsf__heap_8c_a08aaaa8212d2837a39fcc15bb19ef79b}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN\+\_\+\+BIT}})}

\mbox{\Hypertarget{vsf__heap_8c_a5834178d717c98e4487ba8a3cb84f4da}\label{vsf__heap_8c_a5834178d717c98e4487ba8a3cb84f4da}} 
\index{vsf\_heap.c@{vsf\_heap.c}!\_\_vsf\_mcb\_get\_prev\_size@{\_\_vsf\_mcb\_get\_prev\_size}}
\index{\_\_vsf\_mcb\_get\_prev\_size@{\_\_vsf\_mcb\_get\_prev\_size}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{\_\_vsf\_mcb\_get\_prev\_size}{\_\_vsf\_mcb\_get\_prev\_size}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+vsf\+\_\+mcb\+\_\+get\+\_\+prev\+\_\+size(\begin{DoxyParamCaption}\item[{}]{\+\_\+\+\_\+mcb }\end{DoxyParamCaption})~((\+\_\+\+\_\+mcb)-\/$>$linear.\+prev $<$$<$ \mbox{\hyperlink{vsf__heap_8c_a08aaaa8212d2837a39fcc15bb19ef79b}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN\+\_\+\+BIT}})}



\doxysubsection{类型定义说明}
\mbox{\Hypertarget{vsf__heap_8c_a2dd06b2a1b054863ad07c88a913da0ae}\label{vsf__heap_8c_a2dd06b2a1b054863ad07c88a913da0ae}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_heap\_mcb\_t@{vsf\_heap\_mcb\_t}}
\index{vsf\_heap\_mcb\_t@{vsf\_heap\_mcb\_t}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_mcb\_t}{vsf\_heap\_mcb\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structvsf__heap__mcb__t}{vsf\+\_\+heap\+\_\+mcb\+\_\+t}} \mbox{\hyperlink{structvsf__heap__mcb__t}{vsf\+\_\+heap\+\_\+mcb\+\_\+t}}}

\mbox{\Hypertarget{vsf__heap_8c_ae71ce1ddb23cb284935e4545a6cc3bc2}\label{vsf__heap_8c_ae71ce1ddb23cb284935e4545a6cc3bc2}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_default\_heap\_t@{vsf\_default\_heap\_t}}
\index{vsf\_default\_heap\_t@{vsf\_default\_heap\_t}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_default\_heap\_t}{vsf\_default\_heap\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structvsf__default__heap__t}{vsf\+\_\+default\+\_\+heap\+\_\+t}} \mbox{\hyperlink{structvsf__default__heap__t}{vsf\+\_\+default\+\_\+heap\+\_\+t}}}



\doxysubsection{函数说明}
\mbox{\Hypertarget{vsf__heap_8c_a60fa93c453f5d3d81c7575733247651b}\label{vsf__heap_8c_a60fa93c453f5d3d81c7575733247651b}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_heap\_get\_freelist@{vsf\_heap\_get\_freelist}}
\index{vsf\_heap\_get\_freelist@{vsf\_heap\_get\_freelist}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_get\_freelist()}{vsf\_heap\_get\_freelist()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structvsf__dlist__t}{vsf\+\_\+dlist\+\_\+t}} $\ast$ vsf\+\_\+heap\+\_\+get\+\_\+freelist (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvsf__dlist__t}{vsf\+\_\+dlist\+\_\+t}} $\ast$}]{freelist,  }\item[{\mbox{\hyperlink{arm_2type_8h_ad0906fbe05a45fbdb000c58fe8929e70}{uint\+\_\+fast8\+\_\+t}}}]{freelist\+\_\+num,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{size }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vsf__heap_8c_af18457c1351f707450f4771e0e30a8db}\label{vsf__heap_8c_af18457c1351f707450f4771e0e30a8db}} 
\index{vsf\_heap.c@{vsf\_heap.c}!\_\_vsf\_heap\_add\_buffer@{\_\_vsf\_heap\_add\_buffer}}
\index{\_\_vsf\_heap\_add\_buffer@{\_\_vsf\_heap\_add\_buffer}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{\_\_vsf\_heap\_add\_buffer()}{\_\_vsf\_heap\_add\_buffer()}}
{\footnotesize\ttfamily void \+\_\+\+\_\+vsf\+\_\+heap\+\_\+add\+\_\+buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classvsf__heap__t}{vsf\+\_\+heap\+\_\+t}} $\ast$}]{heap,  }\item[{\mbox{\hyperlink{arm_2type_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} $\ast$}]{buffer,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{size }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vsf__heap_8c_a4dd2d3960b429d8a9bd16aa6fa029933}\label{vsf__heap_8c_a4dd2d3960b429d8a9bd16aa6fa029933}} 
\index{vsf\_heap.c@{vsf\_heap.c}!\_\_vsf\_heap\_malloc\_aligned@{\_\_vsf\_heap\_malloc\_aligned}}
\index{\_\_vsf\_heap\_malloc\_aligned@{\_\_vsf\_heap\_malloc\_aligned}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{\_\_vsf\_heap\_malloc\_aligned()}{\_\_vsf\_heap\_malloc\_aligned()}}
{\footnotesize\ttfamily void$\ast$ \+\_\+\+\_\+vsf\+\_\+heap\+\_\+malloc\+\_\+aligned (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classvsf__heap__t}{vsf\+\_\+heap\+\_\+t}} $\ast$}]{heap,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{alignment }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vsf__heap_8c_a4da8ecf1dbaed5f40253b7b4867c9f19}\label{vsf__heap_8c_a4da8ecf1dbaed5f40253b7b4867c9f19}} 
\index{vsf\_heap.c@{vsf\_heap.c}!\_\_vsf\_heap\_realloc\_aligned@{\_\_vsf\_heap\_realloc\_aligned}}
\index{\_\_vsf\_heap\_realloc\_aligned@{\_\_vsf\_heap\_realloc\_aligned}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{\_\_vsf\_heap\_realloc\_aligned()}{\_\_vsf\_heap\_realloc\_aligned()}}
{\footnotesize\ttfamily void$\ast$ \+\_\+\+\_\+vsf\+\_\+heap\+\_\+realloc\+\_\+aligned (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classvsf__heap__t}{vsf\+\_\+heap\+\_\+t}} $\ast$}]{heap,  }\item[{void $\ast$}]{buffer,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{alignment }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vsf__heap_8c_aeee44f42878bf9dc08d5d263c5dac20e}\label{vsf__heap_8c_aeee44f42878bf9dc08d5d263c5dac20e}} 
\index{vsf\_heap.c@{vsf\_heap.c}!\_\_vsf\_heap\_free@{\_\_vsf\_heap\_free}}
\index{\_\_vsf\_heap\_free@{\_\_vsf\_heap\_free}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{\_\_vsf\_heap\_free()}{\_\_vsf\_heap\_free()}}
{\footnotesize\ttfamily void \+\_\+\+\_\+vsf\+\_\+heap\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classvsf__heap__t}{vsf\+\_\+heap\+\_\+t}} $\ast$}]{heap,  }\item[{void $\ast$}]{buffer }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vsf__heap_8c_a3e448f4f5f922bd49ba5142fc63f42f7}\label{vsf__heap_8c_a3e448f4f5f922bd49ba5142fc63f42f7}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_heap\_init@{vsf\_heap\_init}}
\index{vsf\_heap\_init@{vsf\_heap\_init}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_init()}{vsf\_heap\_init()}}
{\footnotesize\ttfamily void vsf\+\_\+heap\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vsf__heap_8c_a70c9f02120f78e0696c6edb495e152c5}\label{vsf__heap_8c_a70c9f02120f78e0696c6edb495e152c5}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_heap\_add\_buffer@{vsf\_heap\_add\_buffer}}
\index{vsf\_heap\_add\_buffer@{vsf\_heap\_add\_buffer}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_add\_buffer()}{vsf\_heap\_add\_buffer()}}
{\footnotesize\ttfamily void vsf\+\_\+heap\+\_\+add\+\_\+buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{arm_2type_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} $\ast$}]{buffer,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{size }\end{DoxyParamCaption})}

\begin{DoxyNote}{注解}
\+: vsf\+\_\+heap\+\_\+add\+\_\+buffer and vsf\+\_\+heap\+\_\+add\+\_\+memory cannot add misaligned memory spaces. !\textbackslash{}when a user needs to add memory space, the space provided each time must be aligned !\textbackslash{}according to the alignment defined by \mbox{\hyperlink{vsf__heap_8c_a08aaaa8212d2837a39fcc15bb19ef79b}{VSF\+\_\+\+HEAP\+\_\+\+CFG\+\_\+\+MCB\+\_\+\+ALIGN\+\_\+\+BIT(2 if undefined)}}. 
\end{DoxyNote}
\mbox{\Hypertarget{vsf__heap_8c_a38303bc103ca8d7cf3229534ff7ab0f7}\label{vsf__heap_8c_a38303bc103ca8d7cf3229534ff7ab0f7}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_heap\_add\_memory@{vsf\_heap\_add\_memory}}
\index{vsf\_heap\_add\_memory@{vsf\_heap\_add\_memory}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_add\_memory()}{vsf\_heap\_add\_memory()}}
{\footnotesize\ttfamily void vsf\+\_\+heap\+\_\+add\+\_\+memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvsf__mem__t}{vsf\+\_\+mem\+\_\+t}}}]{mem }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vsf__heap_8c_a3edeaf89a48b4f1f456ed0a9d466f6e1}\label{vsf__heap_8c_a3edeaf89a48b4f1f456ed0a9d466f6e1}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_heap\_malloc\_aligned@{vsf\_heap\_malloc\_aligned}}
\index{vsf\_heap\_malloc\_aligned@{vsf\_heap\_malloc\_aligned}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_malloc\_aligned()}{vsf\_heap\_malloc\_aligned()}}
{\footnotesize\ttfamily void $\ast$ vsf\+\_\+heap\+\_\+malloc\+\_\+aligned (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{alignment }\end{DoxyParamCaption})}

\begin{DoxyNote}{注解}
if vsf\+\_\+heap is enabled in your project, this function will be replaced by the function with the same name in vsf\+\_\+heap. Otherwise the posix\+\_\+memalign will be used by default. You can also implement this function by yourself
\end{DoxyNote}
\mbox{\Hypertarget{vsf__heap_8c_a85f7dab9811d95217dff06d56f6cda18}\label{vsf__heap_8c_a85f7dab9811d95217dff06d56f6cda18}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_heap\_malloc@{vsf\_heap\_malloc}}
\index{vsf\_heap\_malloc@{vsf\_heap\_malloc}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_malloc()}{vsf\_heap\_malloc()}}
{\footnotesize\ttfamily void$\ast$ vsf\+\_\+heap\+\_\+malloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{size }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vsf__heap_8c_abfcb8e44844feb822a188f93c24b6628}\label{vsf__heap_8c_abfcb8e44844feb822a188f93c24b6628}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_heap\_realloc\_aligned@{vsf\_heap\_realloc\_aligned}}
\index{vsf\_heap\_realloc\_aligned@{vsf\_heap\_realloc\_aligned}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_realloc\_aligned()}{vsf\_heap\_realloc\_aligned()}}
{\footnotesize\ttfamily void$\ast$ vsf\+\_\+heap\+\_\+realloc\+\_\+aligned (\begin{DoxyParamCaption}\item[{void $\ast$}]{buffer,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{alignment }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vsf__heap_8c_ad1bd00550be027ce58c5ce9d645dddd2}\label{vsf__heap_8c_ad1bd00550be027ce58c5ce9d645dddd2}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_heap\_realloc@{vsf\_heap\_realloc}}
\index{vsf\_heap\_realloc@{vsf\_heap\_realloc}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_realloc()}{vsf\_heap\_realloc()}}
{\footnotesize\ttfamily void$\ast$ vsf\+\_\+heap\+\_\+realloc (\begin{DoxyParamCaption}\item[{void $\ast$}]{buffer,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{size }\end{DoxyParamCaption})}

\mbox{\Hypertarget{vsf__heap_8c_ac59c4c88dba19eb3b1fba0165aa33868}\label{vsf__heap_8c_ac59c4c88dba19eb3b1fba0165aa33868}} 
\index{vsf\_heap.c@{vsf\_heap.c}!vsf\_heap\_free@{vsf\_heap\_free}}
\index{vsf\_heap\_free@{vsf\_heap\_free}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_free()}{vsf\_heap\_free()}}
{\footnotesize\ttfamily void vsf\+\_\+heap\+\_\+free (\begin{DoxyParamCaption}\item[{void $\ast$}]{buffer }\end{DoxyParamCaption})}



\doxysubsection{变量说明}
\mbox{\Hypertarget{vsf__heap_8c_a979f4f6bbe6945078a75c9b429c6fce5}\label{vsf__heap_8c_a979f4f6bbe6945078a75c9b429c6fce5}} 
\index{vsf\_heap.c@{vsf\_heap.c}!VSF\_HEAP@{VSF\_HEAP}}
\index{VSF\_HEAP@{VSF\_HEAP}!vsf\_heap.c@{vsf\_heap.c}}
\doxysubsubsection{\texorpdfstring{VSF\_HEAP}{VSF\_HEAP}}
{\footnotesize\ttfamily const i\+\_\+heap\+\_\+t VSF\+\_\+\+HEAP}

{\bfseries 初始值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .Init           = \&\mbox{\hyperlink{vsf__heap_8c_a3e448f4f5f922bd49ba5142fc63f42f7}{vsf\_heap\_init}},}
\DoxyCodeLine{    .AddBuffer      = \&\mbox{\hyperlink{vsf__heap_8c_a70c9f02120f78e0696c6edb495e152c5}{vsf\_heap\_add\_buffer}},}
\DoxyCodeLine{    .AddMemory      = \&\mbox{\hyperlink{vsf__heap_8c_a38303bc103ca8d7cf3229534ff7ab0f7}{vsf\_heap\_add\_memory}},}
\DoxyCodeLine{    .MallocAligned  = \&\mbox{\hyperlink{vsf__heap_8c_a3edeaf89a48b4f1f456ed0a9d466f6e1}{vsf\_heap\_malloc\_aligned}},}
\DoxyCodeLine{    .Malloc         = \&\mbox{\hyperlink{vsf__heap_8c_a85f7dab9811d95217dff06d56f6cda18}{vsf\_heap\_malloc}},}
\DoxyCodeLine{    .ReallocAligned = \&\mbox{\hyperlink{vsf__heap_8c_abfcb8e44844feb822a188f93c24b6628}{vsf\_heap\_realloc\_aligned}},}
\DoxyCodeLine{    .Realloc        = \&\mbox{\hyperlink{vsf__heap_8c_ad1bd00550be027ce58c5ce9d645dddd2}{vsf\_heap\_realloc}},}
\DoxyCodeLine{    .Free           = \&\mbox{\hyperlink{vsf__heap_8c_ac59c4c88dba19eb3b1fba0165aa33868}{vsf\_heap\_free}},}
\DoxyCodeLine{\}}

\end{DoxyCode}
