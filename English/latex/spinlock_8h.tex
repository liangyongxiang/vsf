\hypertarget{spinlock_8h}{}\doxysection{source/shell/sys/xboot/include/arch/spinlock.h File Reference}
\label{spinlock_8h}\index{source/shell/sys/xboot/include/arch/spinlock.h@{source/shell/sys/xboot/include/arch/spinlock.h}}
{\ttfamily \#include \char`\"{}utilities/vsf\+\_\+utilities.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{spinlock_8h_a8b8d318fcfc6959420c3c0c92c742e5a}{SPIN\+\_\+\+LOCK\+\_\+\+INIT}}()~(0)
\item 
\#define \mbox{\hyperlink{spinlock_8h_a05ea71770794314af9fd1f6a9a1b602b}{spin\+\_\+lock\+\_\+init}}(lock)~do \{ $\ast$lock = 0; \} while(0)
\item 
\#define \mbox{\hyperlink{spinlock_8h_a7e61b60c62dd06a0cfa65fd154a11e70}{\+\_\+\+\_\+spin\+\_\+lock}}(lock)~do \{ $\ast$lock = 1; \} while (0)
\item 
\#define \mbox{\hyperlink{spinlock_8h_a872d10f3b8ba88b4fbf2d5463f1202ef}{\+\_\+\+\_\+spin\+\_\+unlock}}(lock)~do \{ $\ast$lock = 0; \} while (0)
\item 
\#define \mbox{\hyperlink{spinlock_8h_adda1f4412c357d6e2b23215739d5b329}{spin\+\_\+trylock}}(lock)~(\mbox{\hyperlink{spinlock_8h_a6683bb6050276e933771abcd14f03132}{spin\+\_\+lock}}(lock), 1)
\item 
\#define \mbox{\hyperlink{spinlock_8h_a6683bb6050276e933771abcd14f03132}{spin\+\_\+lock}}(lock)~do \{ vsf\+\_\+protect\+\_\+t orig = vsf\+\_\+protect\+\_\+int(); \mbox{\hyperlink{spinlock_8h_a7e61b60c62dd06a0cfa65fd154a11e70}{\+\_\+\+\_\+spin\+\_\+lock}}(lock); vsf\+\_\+unprotect\+\_\+int(orig); \} while (0)
\item 
\#define \mbox{\hyperlink{spinlock_8h_ae869161ac7df858751f131d00cf9b4c0}{spin\+\_\+unlock}}(lock)~do \{ vsf\+\_\+protect\+\_\+t orig = vsf\+\_\+protect\+\_\+int(); \mbox{\hyperlink{spinlock_8h_a872d10f3b8ba88b4fbf2d5463f1202ef}{\+\_\+\+\_\+spin\+\_\+unlock}}(lock); vsf\+\_\+unprotect\+\_\+int(orig); \} while (0)
\item 
\#define \mbox{\hyperlink{spinlock_8h_ab4bbfd79ee40bb6cd66f5660f379379b}{spin\+\_\+lock\+\_\+irq}}(lock)~do \{ vsf\+\_\+disable\+\_\+interrupt(); \mbox{\hyperlink{spinlock_8h_a7e61b60c62dd06a0cfa65fd154a11e70}{\+\_\+\+\_\+spin\+\_\+lock}}(lock); \} while(0)
\item 
\#define \mbox{\hyperlink{spinlock_8h_ab3be11fd55b088cf4ce31243ff7a3f29}{spin\+\_\+unlock\+\_\+irq}}(lock)~do \{ \mbox{\hyperlink{spinlock_8h_a872d10f3b8ba88b4fbf2d5463f1202ef}{\+\_\+\+\_\+spin\+\_\+unlock}}(lock); vsf\+\_\+enable\+\_\+interrupt(); \} while(0)
\item 
\#define \mbox{\hyperlink{spinlock_8h_afd13c671b71b924b56a112bbf4ba0d8d}{spin\+\_\+lock\+\_\+irqsave}}(lock,  flags)~do \{ flags = vsf\+\_\+protect\+\_\+int(); \mbox{\hyperlink{spinlock_8h_a7e61b60c62dd06a0cfa65fd154a11e70}{\+\_\+\+\_\+spin\+\_\+lock}}(lock); \} while(0)
\item 
\#define \mbox{\hyperlink{spinlock_8h_ac3b42dadd99d57be4af424545dbb59bc}{spin\+\_\+unlock\+\_\+irqrestore}}(lock,  flags)~do \{ \mbox{\hyperlink{spinlock_8h_a872d10f3b8ba88b4fbf2d5463f1202ef}{\+\_\+\+\_\+spin\+\_\+unlock}}(lock); vsf\+\_\+unprotect\+\_\+int(flags); \} while(0)
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int \mbox{\hyperlink{spinlock_8h_ae8229571968ef273d771ad747e87450b}{spinlock\+\_\+t}}
\item 
typedef vsf\+\_\+protect\+\_\+t \mbox{\hyperlink{spinlock_8h_a1fc75a16b8297a5dc671668e0280910b}{irq\+\_\+flags\+\_\+t}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{spinlock_8h_a8b8d318fcfc6959420c3c0c92c742e5a}\label{spinlock_8h_a8b8d318fcfc6959420c3c0c92c742e5a}} 
\index{spinlock.h@{spinlock.h}!SPIN\_LOCK\_INIT@{SPIN\_LOCK\_INIT}}
\index{SPIN\_LOCK\_INIT@{SPIN\_LOCK\_INIT}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{SPIN\_LOCK\_INIT}{SPIN\_LOCK\_INIT}}
{\footnotesize\ttfamily \#define SPIN\+\_\+\+LOCK\+\_\+\+INIT(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~(0)}

\mbox{\Hypertarget{spinlock_8h_a05ea71770794314af9fd1f6a9a1b602b}\label{spinlock_8h_a05ea71770794314af9fd1f6a9a1b602b}} 
\index{spinlock.h@{spinlock.h}!spin\_lock\_init@{spin\_lock\_init}}
\index{spin\_lock\_init@{spin\_lock\_init}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{spin\_lock\_init}{spin\_lock\_init}}
{\footnotesize\ttfamily \#define spin\+\_\+lock\+\_\+init(\begin{DoxyParamCaption}\item[{}]{lock }\end{DoxyParamCaption})~do \{ $\ast$lock = 0; \} while(0)}

\mbox{\Hypertarget{spinlock_8h_a7e61b60c62dd06a0cfa65fd154a11e70}\label{spinlock_8h_a7e61b60c62dd06a0cfa65fd154a11e70}} 
\index{spinlock.h@{spinlock.h}!\_\_spin\_lock@{\_\_spin\_lock}}
\index{\_\_spin\_lock@{\_\_spin\_lock}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{\_\_spin\_lock}{\_\_spin\_lock}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+spin\+\_\+lock(\begin{DoxyParamCaption}\item[{}]{lock }\end{DoxyParamCaption})~do \{ $\ast$lock = 1; \} while (0)}

\mbox{\Hypertarget{spinlock_8h_a872d10f3b8ba88b4fbf2d5463f1202ef}\label{spinlock_8h_a872d10f3b8ba88b4fbf2d5463f1202ef}} 
\index{spinlock.h@{spinlock.h}!\_\_spin\_unlock@{\_\_spin\_unlock}}
\index{\_\_spin\_unlock@{\_\_spin\_unlock}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{\_\_spin\_unlock}{\_\_spin\_unlock}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+spin\+\_\+unlock(\begin{DoxyParamCaption}\item[{}]{lock }\end{DoxyParamCaption})~do \{ $\ast$lock = 0; \} while (0)}

\mbox{\Hypertarget{spinlock_8h_adda1f4412c357d6e2b23215739d5b329}\label{spinlock_8h_adda1f4412c357d6e2b23215739d5b329}} 
\index{spinlock.h@{spinlock.h}!spin\_trylock@{spin\_trylock}}
\index{spin\_trylock@{spin\_trylock}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{spin\_trylock}{spin\_trylock}}
{\footnotesize\ttfamily \#define spin\+\_\+trylock(\begin{DoxyParamCaption}\item[{}]{lock }\end{DoxyParamCaption})~(\mbox{\hyperlink{spinlock_8h_a6683bb6050276e933771abcd14f03132}{spin\+\_\+lock}}(lock), 1)}

\mbox{\Hypertarget{spinlock_8h_a6683bb6050276e933771abcd14f03132}\label{spinlock_8h_a6683bb6050276e933771abcd14f03132}} 
\index{spinlock.h@{spinlock.h}!spin\_lock@{spin\_lock}}
\index{spin\_lock@{spin\_lock}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{spin\_lock}{spin\_lock}}
{\footnotesize\ttfamily \#define spin\+\_\+lock(\begin{DoxyParamCaption}\item[{}]{lock }\end{DoxyParamCaption})~do \{ vsf\+\_\+protect\+\_\+t orig = vsf\+\_\+protect\+\_\+int(); \mbox{\hyperlink{spinlock_8h_a7e61b60c62dd06a0cfa65fd154a11e70}{\+\_\+\+\_\+spin\+\_\+lock}}(lock); vsf\+\_\+unprotect\+\_\+int(orig); \} while (0)}

\mbox{\Hypertarget{spinlock_8h_ae869161ac7df858751f131d00cf9b4c0}\label{spinlock_8h_ae869161ac7df858751f131d00cf9b4c0}} 
\index{spinlock.h@{spinlock.h}!spin\_unlock@{spin\_unlock}}
\index{spin\_unlock@{spin\_unlock}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{spin\_unlock}{spin\_unlock}}
{\footnotesize\ttfamily \#define spin\+\_\+unlock(\begin{DoxyParamCaption}\item[{}]{lock }\end{DoxyParamCaption})~do \{ vsf\+\_\+protect\+\_\+t orig = vsf\+\_\+protect\+\_\+int(); \mbox{\hyperlink{spinlock_8h_a872d10f3b8ba88b4fbf2d5463f1202ef}{\+\_\+\+\_\+spin\+\_\+unlock}}(lock); vsf\+\_\+unprotect\+\_\+int(orig); \} while (0)}

\mbox{\Hypertarget{spinlock_8h_ab4bbfd79ee40bb6cd66f5660f379379b}\label{spinlock_8h_ab4bbfd79ee40bb6cd66f5660f379379b}} 
\index{spinlock.h@{spinlock.h}!spin\_lock\_irq@{spin\_lock\_irq}}
\index{spin\_lock\_irq@{spin\_lock\_irq}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{spin\_lock\_irq}{spin\_lock\_irq}}
{\footnotesize\ttfamily \#define spin\+\_\+lock\+\_\+irq(\begin{DoxyParamCaption}\item[{}]{lock }\end{DoxyParamCaption})~do \{ vsf\+\_\+disable\+\_\+interrupt(); \mbox{\hyperlink{spinlock_8h_a7e61b60c62dd06a0cfa65fd154a11e70}{\+\_\+\+\_\+spin\+\_\+lock}}(lock); \} while(0)}

\mbox{\Hypertarget{spinlock_8h_ab3be11fd55b088cf4ce31243ff7a3f29}\label{spinlock_8h_ab3be11fd55b088cf4ce31243ff7a3f29}} 
\index{spinlock.h@{spinlock.h}!spin\_unlock\_irq@{spin\_unlock\_irq}}
\index{spin\_unlock\_irq@{spin\_unlock\_irq}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{spin\_unlock\_irq}{spin\_unlock\_irq}}
{\footnotesize\ttfamily \#define spin\+\_\+unlock\+\_\+irq(\begin{DoxyParamCaption}\item[{}]{lock }\end{DoxyParamCaption})~do \{ \mbox{\hyperlink{spinlock_8h_a872d10f3b8ba88b4fbf2d5463f1202ef}{\+\_\+\+\_\+spin\+\_\+unlock}}(lock); vsf\+\_\+enable\+\_\+interrupt(); \} while(0)}

\mbox{\Hypertarget{spinlock_8h_afd13c671b71b924b56a112bbf4ba0d8d}\label{spinlock_8h_afd13c671b71b924b56a112bbf4ba0d8d}} 
\index{spinlock.h@{spinlock.h}!spin\_lock\_irqsave@{spin\_lock\_irqsave}}
\index{spin\_lock\_irqsave@{spin\_lock\_irqsave}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{spin\_lock\_irqsave}{spin\_lock\_irqsave}}
{\footnotesize\ttfamily \#define spin\+\_\+lock\+\_\+irqsave(\begin{DoxyParamCaption}\item[{}]{lock,  }\item[{}]{flags }\end{DoxyParamCaption})~do \{ flags = vsf\+\_\+protect\+\_\+int(); \mbox{\hyperlink{spinlock_8h_a7e61b60c62dd06a0cfa65fd154a11e70}{\+\_\+\+\_\+spin\+\_\+lock}}(lock); \} while(0)}

\mbox{\Hypertarget{spinlock_8h_ac3b42dadd99d57be4af424545dbb59bc}\label{spinlock_8h_ac3b42dadd99d57be4af424545dbb59bc}} 
\index{spinlock.h@{spinlock.h}!spin\_unlock\_irqrestore@{spin\_unlock\_irqrestore}}
\index{spin\_unlock\_irqrestore@{spin\_unlock\_irqrestore}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{spin\_unlock\_irqrestore}{spin\_unlock\_irqrestore}}
{\footnotesize\ttfamily \#define spin\+\_\+unlock\+\_\+irqrestore(\begin{DoxyParamCaption}\item[{}]{lock,  }\item[{}]{flags }\end{DoxyParamCaption})~do \{ \mbox{\hyperlink{spinlock_8h_a872d10f3b8ba88b4fbf2d5463f1202ef}{\+\_\+\+\_\+spin\+\_\+unlock}}(lock); vsf\+\_\+unprotect\+\_\+int(flags); \} while(0)}



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{spinlock_8h_ae8229571968ef273d771ad747e87450b}\label{spinlock_8h_ae8229571968ef273d771ad747e87450b}} 
\index{spinlock.h@{spinlock.h}!spinlock\_t@{spinlock\_t}}
\index{spinlock\_t@{spinlock\_t}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{spinlock\_t}{spinlock\_t}}
{\footnotesize\ttfamily typedef int \mbox{\hyperlink{spinlock_8h_ae8229571968ef273d771ad747e87450b}{spinlock\+\_\+t}}}

\mbox{\Hypertarget{spinlock_8h_a1fc75a16b8297a5dc671668e0280910b}\label{spinlock_8h_a1fc75a16b8297a5dc671668e0280910b}} 
\index{spinlock.h@{spinlock.h}!irq\_flags\_t@{irq\_flags\_t}}
\index{irq\_flags\_t@{irq\_flags\_t}!spinlock.h@{spinlock.h}}
\doxysubsubsection{\texorpdfstring{irq\_flags\_t}{irq\_flags\_t}}
{\footnotesize\ttfamily typedef vsf\+\_\+protect\+\_\+t \mbox{\hyperlink{spinlock_8h_a1fc75a16b8297a5dc671668e0280910b}{irq\+\_\+flags\+\_\+t}}}

