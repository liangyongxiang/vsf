\hypertarget{vsf__pool_8c}{}\doxysection{source/service/pool/vsf\+\_\+pool.c File Reference}
\label{vsf__pool_8c}\index{source/service/pool/vsf\_pool.c@{source/service/pool/vsf\_pool.c}}
{\ttfamily \#include \char`\"{}service/vsf\+\_\+service\+\_\+cfg.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vsf\+\_\+pool.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}hal/arch/vsf\+\_\+arch.\+h\char`\"{}}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct____vsf__pool__node__t}{\+\_\+\+\_\+vsf\+\_\+pool\+\_\+node\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{vsf__pool_8c_a73fbf09be3d1dfa0dc9357f0975556c2}{\+\_\+\+\_\+\+VSF\+\_\+\+POOL\+\_\+\+CLASS\+\_\+\+IMPLEMENT}}
\item 
\#define \mbox{\hyperlink{vsf__pool_8c_a170ed34cb45d3bd351735c7521ba7aa6}{vsf\+\_\+this}}~($\ast$this\+\_\+ptr)
\item 
\#define \mbox{\hyperlink{vsf__pool_8c_a829f2e020a057f4a39e561aafcc162fd}{VSF\+\_\+\+POOL\+\_\+\+LOCK}}()~vsf\+\_\+this.\+region\+\_\+ptr-\/$>$enter()
\item 
\#define \mbox{\hyperlink{vsf__pool_8c_ab6574db8b71e76a56091d1845a884b10}{VSF\+\_\+\+POOL\+\_\+\+UNLOCK}}()~vsf\+\_\+this.\+region\+\_\+ptr-\/$>$leave(orig)
\item 
\#define \mbox{\hyperlink{vsf__pool_8c_a659c70f973734073435357900e3f33d4}{\+\_\+\+\_\+\+VSF\+\_\+\+POOL\+\_\+\+USE\+\_\+\+DEFAULT\+\_\+\+ATOM\+\_\+\+ACCESS}}
\item 
\#define \mbox{\hyperlink{vsf__pool_8c_a0331f0f04839b40dd0417be57c51d282}{VSF\+\_\+\+POOL\+\_\+\+CFG\+\_\+\+SUPPORT\+\_\+\+USER\+\_\+\+ITEM\+\_\+\+INIT}}~\mbox{\hyperlink{vsf__cfg_8h_a73c228f87e038e8295ee8ea8eceaa5ac}{ENABLED}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{Indent}\textbf{ protected class \+\_\+\+\_\+vsf\+\_\+pool\+\_\+node\+\_\+t}\par
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct____vsf__pool__node__t}{\+\_\+\+\_\+vsf\+\_\+pool\+\_\+node\+\_\+t}} \mbox{\hyperlink{vsf__pool_8c_af13c2a0b899a39a38726c62f7b193a8f}{\+\_\+\+\_\+vsf\+\_\+pool\+\_\+node\+\_\+t}}
\end{DoxyCompactItemize}
\end{Indent}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void $\ast$ \mbox{\hyperlink{vsf__pool_8c_afdd018350f7bb472c404e1acda6162b7}{vsf\+\_\+heap\+\_\+malloc\+\_\+aligned}} (\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__memfs_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}}, \mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}} \mbox{\hyperlink{vsf__pool_8h_a4c7fdf7e103520180f0b529959b17dac}{align}})
\item 
void \mbox{\hyperlink{vsf__pool_8c_ae0505942af0b04938c21bda84de5df31}{vsf\+\_\+pool\+\_\+init}} (vsf\+\_\+pool\+\_\+t $\ast$obj\+\_\+ptr, \mbox{\hyperlink{arm_2type_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} \mbox{\hyperlink{vsf__pool_8h_ad27d25a00990c74c7bf1cc2bca27b745}{item\+\_\+size}}, \mbox{\hyperlink{arm_2type_8h_a226d967fb6d06433caf43f20dc876aae}{uint\+\_\+fast16\+\_\+t}} \mbox{\hyperlink{vsf__pool_8h_a4c7fdf7e103520180f0b529959b17dac}{align}}, \mbox{\hyperlink{vsf__pool_8h_abc12eca64e8c7d9b3028c3fa40dd2ad2}{vsf\+\_\+pool\+\_\+cfg\+\_\+t}} $\ast$\mbox{\hyperlink{vsf__stream__writer_8h_a4867ae13f79e7bd89b5442224cdd20bd}{cfg\+\_\+ptr}})
\begin{DoxyCompactList}\small\item\em initialise target pool ! \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm_2type_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} \mbox{\hyperlink{vsf__pool_8c_a6c9f12c0f764f42e9329fceba6f7aea0}{vsf\+\_\+pool\+\_\+add\+\_\+buffer}} (vsf\+\_\+pool\+\_\+t $\ast$this\+\_\+ptr, \mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}} buffer\+\_\+ptr, \mbox{\hyperlink{arm_2type_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} buffer\+\_\+size, \mbox{\hyperlink{arm_2type_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} \mbox{\hyperlink{vsf__pool_8h_ad27d25a00990c74c7bf1cc2bca27b745}{item\+\_\+size}})
\begin{DoxyCompactList}\small\item\em add memory to pool ! \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm_2type_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} \mbox{\hyperlink{vsf__pool_8c_a149f775a8848068daeff171673b31418}{vsf\+\_\+plug\+\_\+in\+\_\+on\+\_\+failed\+\_\+to\+\_\+feed\+\_\+pool\+\_\+on\+\_\+heap}} (vsf\+\_\+pool\+\_\+t $\ast$obj\+\_\+ptr)
\item 
\mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}} \mbox{\hyperlink{vsf__pool_8c_a0dfe3e9ae6d5091a52a598d46cd222dc}{vsf\+\_\+pool\+\_\+alloc}} (vsf\+\_\+pool\+\_\+t $\ast$obj\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em try to fetch a memory block from the target pool ! \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm_2type_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} \mbox{\hyperlink{vsf__pool_8c_a4cfd724746adcdff17810d36d0845598}{vsf\+\_\+pool\+\_\+add\+\_\+buffer\+\_\+ex}} (vsf\+\_\+pool\+\_\+t $\ast$obj\+\_\+ptr, \mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}} buffer\+\_\+ptr, \mbox{\hyperlink{arm_2type_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} buffer\+\_\+size, \mbox{\hyperlink{arm_2type_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} \mbox{\hyperlink{vsf__pool_8h_ad27d25a00990c74c7bf1cc2bca27b745}{item\+\_\+size}}, vsf\+\_\+pool\+\_\+item\+\_\+init\+\_\+evt\+\_\+handler\+\_\+t $\ast$item\+\_\+init\+\_\+fn)
\begin{DoxyCompactList}\small\item\em add memory to pool ! \end{DoxyCompactList}\item 
void \mbox{\hyperlink{vsf__pool_8c_ade8e690c124fc773aafbed53279fee2d}{vsf\+\_\+pool\+\_\+free}} (vsf\+\_\+pool\+\_\+t $\ast$obj\+\_\+ptr, \mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}} p\+Item)
\begin{DoxyCompactList}\small\item\em return a memory block to the target pool ! \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm_2type_8h_a226d967fb6d06433caf43f20dc876aae}{uint\+\_\+fast16\+\_\+t}} \mbox{\hyperlink{vsf__pool_8c_a9d3f4a3634a10c1eb33ed90eaf89bc62}{vsf\+\_\+pool\+\_\+get\+\_\+count}} (vsf\+\_\+pool\+\_\+t $\ast$obj\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em get the number of memory blocks available in the target pool ! \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}} \mbox{\hyperlink{vsf__pool_8c_a4ca90e14bc04840a37393a7e2512135c}{vsf\+\_\+pool\+\_\+get\+\_\+tag}} (vsf\+\_\+pool\+\_\+t $\ast$obj\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em get the address of the object which is attached to the pool ! \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}} \mbox{\hyperlink{vsf__pool_8c_a01845048250d0cdb1b4e9ada77069144}{vsf\+\_\+pool\+\_\+set\+\_\+tag}} (vsf\+\_\+pool\+\_\+t $\ast$obj\+\_\+ptr, \mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}} target\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em set the address of the object which is attached to the pool ! \end{DoxyCompactList}\item 
vsf\+\_\+protect\+\_\+region\+\_\+t $\ast$ \mbox{\hyperlink{vsf__pool_8c_a3f0cbecea38ab130283817d0139a0a0b}{vsf\+\_\+pool\+\_\+get\+\_\+region}} (vsf\+\_\+pool\+\_\+t $\ast$obj\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em get the address of the code region used by this pool ! \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const i\+\_\+pool\+\_\+t \mbox{\hyperlink{vsf__pool_8c_aa98ef64b200548a2ee7588cfc532b131}{VSF\+\_\+\+POOL}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{vsf__pool_8c_a73fbf09be3d1dfa0dc9357f0975556c2}\label{vsf__pool_8c_a73fbf09be3d1dfa0dc9357f0975556c2}} 
\index{vsf\_pool.c@{vsf\_pool.c}!\_\_VSF\_POOL\_CLASS\_IMPLEMENT@{\_\_VSF\_POOL\_CLASS\_IMPLEMENT}}
\index{\_\_VSF\_POOL\_CLASS\_IMPLEMENT@{\_\_VSF\_POOL\_CLASS\_IMPLEMENT}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{\_\_VSF\_POOL\_CLASS\_IMPLEMENT}{\_\_VSF\_POOL\_CLASS\_IMPLEMENT}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+\+VSF\+\_\+\+POOL\+\_\+\+CLASS\+\_\+\+IMPLEMENT}

\mbox{\Hypertarget{vsf__pool_8c_a170ed34cb45d3bd351735c7521ba7aa6}\label{vsf__pool_8c_a170ed34cb45d3bd351735c7521ba7aa6}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_this@{vsf\_this}}
\index{vsf\_this@{vsf\_this}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_this}{vsf\_this}}
{\footnotesize\ttfamily \#define vsf\+\_\+this~($\ast$this\+\_\+ptr)}

\mbox{\Hypertarget{vsf__pool_8c_a829f2e020a057f4a39e561aafcc162fd}\label{vsf__pool_8c_a829f2e020a057f4a39e561aafcc162fd}} 
\index{vsf\_pool.c@{vsf\_pool.c}!VSF\_POOL\_LOCK@{VSF\_POOL\_LOCK}}
\index{VSF\_POOL\_LOCK@{VSF\_POOL\_LOCK}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{VSF\_POOL\_LOCK}{VSF\_POOL\_LOCK}}
{\footnotesize\ttfamily \#define VSF\+\_\+\+POOL\+\_\+\+LOCK(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~vsf\+\_\+this.\+region\+\_\+ptr-\/$>$enter()}

\mbox{\Hypertarget{vsf__pool_8c_ab6574db8b71e76a56091d1845a884b10}\label{vsf__pool_8c_ab6574db8b71e76a56091d1845a884b10}} 
\index{vsf\_pool.c@{vsf\_pool.c}!VSF\_POOL\_UNLOCK@{VSF\_POOL\_UNLOCK}}
\index{VSF\_POOL\_UNLOCK@{VSF\_POOL\_UNLOCK}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{VSF\_POOL\_UNLOCK}{VSF\_POOL\_UNLOCK}}
{\footnotesize\ttfamily \#define VSF\+\_\+\+POOL\+\_\+\+UNLOCK(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~vsf\+\_\+this.\+region\+\_\+ptr-\/$>$leave(orig)}

\mbox{\Hypertarget{vsf__pool_8c_a659c70f973734073435357900e3f33d4}\label{vsf__pool_8c_a659c70f973734073435357900e3f33d4}} 
\index{vsf\_pool.c@{vsf\_pool.c}!\_\_VSF\_POOL\_USE\_DEFAULT\_ATOM\_ACCESS@{\_\_VSF\_POOL\_USE\_DEFAULT\_ATOM\_ACCESS}}
\index{\_\_VSF\_POOL\_USE\_DEFAULT\_ATOM\_ACCESS@{\_\_VSF\_POOL\_USE\_DEFAULT\_ATOM\_ACCESS}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{\_\_VSF\_POOL\_USE\_DEFAULT\_ATOM\_ACCESS}{\_\_VSF\_POOL\_USE\_DEFAULT\_ATOM\_ACCESS}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+\+VSF\+\_\+\+POOL\+\_\+\+USE\+\_\+\+DEFAULT\+\_\+\+ATOM\+\_\+\+ACCESS}

\mbox{\Hypertarget{vsf__pool_8c_a0331f0f04839b40dd0417be57c51d282}\label{vsf__pool_8c_a0331f0f04839b40dd0417be57c51d282}} 
\index{vsf\_pool.c@{vsf\_pool.c}!VSF\_POOL\_CFG\_SUPPORT\_USER\_ITEM\_INIT@{VSF\_POOL\_CFG\_SUPPORT\_USER\_ITEM\_INIT}}
\index{VSF\_POOL\_CFG\_SUPPORT\_USER\_ITEM\_INIT@{VSF\_POOL\_CFG\_SUPPORT\_USER\_ITEM\_INIT}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{VSF\_POOL\_CFG\_SUPPORT\_USER\_ITEM\_INIT}{VSF\_POOL\_CFG\_SUPPORT\_USER\_ITEM\_INIT}}
{\footnotesize\ttfamily \#define VSF\+\_\+\+POOL\+\_\+\+CFG\+\_\+\+SUPPORT\+\_\+\+USER\+\_\+\+ITEM\+\_\+\+INIT~\mbox{\hyperlink{vsf__cfg_8h_a73c228f87e038e8295ee8ea8eceaa5ac}{ENABLED}}}



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{vsf__pool_8c_af13c2a0b899a39a38726c62f7b193a8f}\label{vsf__pool_8c_af13c2a0b899a39a38726c62f7b193a8f}} 
\index{vsf\_pool.c@{vsf\_pool.c}!\_\_vsf\_pool\_node\_t@{\_\_vsf\_pool\_node\_t}}
\index{\_\_vsf\_pool\_node\_t@{\_\_vsf\_pool\_node\_t}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{\_\_vsf\_pool\_node\_t}{\_\_vsf\_pool\_node\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct____vsf__pool__node__t}{\+\_\+\+\_\+vsf\+\_\+pool\+\_\+node\+\_\+t}} \mbox{\hyperlink{struct____vsf__pool__node__t}{\+\_\+\+\_\+vsf\+\_\+pool\+\_\+node\+\_\+t}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{vsf__pool_8c_afdd018350f7bb472c404e1acda6162b7}\label{vsf__pool_8c_afdd018350f7bb472c404e1acda6162b7}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_heap\_malloc\_aligned@{vsf\_heap\_malloc\_aligned}}
\index{vsf\_heap\_malloc\_aligned@{vsf\_heap\_malloc\_aligned}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_heap\_malloc\_aligned()}{vsf\_heap\_malloc\_aligned()}}
{\footnotesize\ttfamily void$\ast$ vsf\+\_\+heap\+\_\+malloc\+\_\+aligned (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{arm_2type_8h_a633264eb9df8f0520acccbbfb406f806}{uint\+\_\+fast32\+\_\+t}}}]{align }\end{DoxyParamCaption})}

\begin{DoxyNote}{Note}
if vsf\+\_\+heap is enabled in your project, this function will be replaced by the function with the same name in vsf\+\_\+heap. Otherwise the posix\+\_\+memalign will be used by default. You can also implement this function by yourself
\end{DoxyNote}
\mbox{\Hypertarget{vsf__pool_8c_ae0505942af0b04938c21bda84de5df31}\label{vsf__pool_8c_ae0505942af0b04938c21bda84de5df31}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_pool\_init@{vsf\_pool\_init}}
\index{vsf\_pool\_init@{vsf\_pool\_init}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_pool\_init()}{vsf\_pool\_init()}}
{\footnotesize\ttfamily void vsf\+\_\+pool\+\_\+init (\begin{DoxyParamCaption}\item[{vsf\+\_\+pool\+\_\+t $\ast$}]{obj\+\_\+ptr,  }\item[{\mbox{\hyperlink{arm_2type_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}}]{item\+\_\+size,  }\item[{\mbox{\hyperlink{arm_2type_8h_a226d967fb6d06433caf43f20dc876aae}{uint\+\_\+fast16\+\_\+t}}}]{align,  }\item[{\mbox{\hyperlink{vsf__pool_8h_abc12eca64e8c7d9b3028c3fa40dd2ad2}{vsf\+\_\+pool\+\_\+cfg\+\_\+t}} $\ast$}]{cfg\+\_\+ptr }\end{DoxyParamCaption})}



initialise target pool ! 


\begin{DoxyParams}{Parameters}
{\em this\+\_\+ptr} & address of the target pool !\\
\hline
{\em cfg\+\_\+ptr} & configurations ! \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}
add pool to the pool list\mbox{\Hypertarget{vsf__pool_8c_a6c9f12c0f764f42e9329fceba6f7aea0}\label{vsf__pool_8c_a6c9f12c0f764f42e9329fceba6f7aea0}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_pool\_add\_buffer@{vsf\_pool\_add\_buffer}}
\index{vsf\_pool\_add\_buffer@{vsf\_pool\_add\_buffer}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_pool\_add\_buffer()}{vsf\_pool\_add\_buffer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{arm_2type_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} vsf\+\_\+pool\+\_\+add\+\_\+buffer (\begin{DoxyParamCaption}\item[{vsf\+\_\+pool\+\_\+t $\ast$}]{this\+\_\+ptr,  }\item[{\mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}}}]{buffer\+\_\+ptr,  }\item[{\mbox{\hyperlink{arm_2type_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}}]{buffer\+\_\+size,  }\item[{\mbox{\hyperlink{arm_2type_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}}]{item\+\_\+size }\end{DoxyParamCaption})}



add memory to pool ! 


\begin{DoxyParams}{Parameters}
{\em this\+\_\+ptr} & address of the target pool !\\
\hline
{\em buffer\+\_\+ptr} & address of the target memory !\\
\hline
{\em buffer\+\_\+size} & the size of the target memory !\\
\hline
{\em item\+\_\+size} & memory block size of the pool !\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em false} & the buffer size is too small or invalid parameters !\\
\hline
{\em true} & buffer is added \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{vsf__pool_8c_a149f775a8848068daeff171673b31418}\label{vsf__pool_8c_a149f775a8848068daeff171673b31418}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_plug\_in\_on\_failed\_to\_feed\_pool\_on\_heap@{vsf\_plug\_in\_on\_failed\_to\_feed\_pool\_on\_heap}}
\index{vsf\_plug\_in\_on\_failed\_to\_feed\_pool\_on\_heap@{vsf\_plug\_in\_on\_failed\_to\_feed\_pool\_on\_heap}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_plug\_in\_on\_failed\_to\_feed\_pool\_on\_heap()}{vsf\_plug\_in\_on\_failed\_to\_feed\_pool\_on\_heap()}}
{\footnotesize\ttfamily \mbox{\hyperlink{arm_2type_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} vsf\+\_\+plug\+\_\+in\+\_\+on\+\_\+failed\+\_\+to\+\_\+feed\+\_\+pool\+\_\+on\+\_\+heap (\begin{DoxyParamCaption}\item[{vsf\+\_\+pool\+\_\+t $\ast$}]{obj\+\_\+ptr }\end{DoxyParamCaption})}

\begin{DoxyNote}{Note}
return true will let the vsf\+\_\+pool try again. Usually we can use this function to print out the heap and pool usage info. You can also use this function to allocate more resources to either pool or heap and ask vsf pool to try again.
\end{DoxyNote}
\mbox{\Hypertarget{vsf__pool_8c_a0dfe3e9ae6d5091a52a598d46cd222dc}\label{vsf__pool_8c_a0dfe3e9ae6d5091a52a598d46cd222dc}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_pool\_alloc@{vsf\_pool\_alloc}}
\index{vsf\_pool\_alloc@{vsf\_pool\_alloc}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_pool\_alloc()}{vsf\_pool\_alloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}} vsf\+\_\+pool\+\_\+alloc (\begin{DoxyParamCaption}\item[{vsf\+\_\+pool\+\_\+t $\ast$}]{obj\+\_\+ptr }\end{DoxyParamCaption})}



try to fetch a memory block from the target pool ! 


\begin{DoxyParams}{Parameters}
{\em this\+\_\+ptr} & address of the target pool !\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em NULL} & the pool is empty !\\
\hline
{\em !\+NULL} & address of the allocated memory block \\
\hline
\end{DoxyRetVals}
feed on heap\mbox{\Hypertarget{vsf__pool_8c_a4cfd724746adcdff17810d36d0845598}\label{vsf__pool_8c_a4cfd724746adcdff17810d36d0845598}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_pool\_add\_buffer\_ex@{vsf\_pool\_add\_buffer\_ex}}
\index{vsf\_pool\_add\_buffer\_ex@{vsf\_pool\_add\_buffer\_ex}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_pool\_add\_buffer\_ex()}{vsf\_pool\_add\_buffer\_ex()}}
{\footnotesize\ttfamily \mbox{\hyperlink{arm_2type_8h_af6a258d8f3ee5206d682d799316314b1}{bool}} vsf\+\_\+pool\+\_\+add\+\_\+buffer\+\_\+ex (\begin{DoxyParamCaption}\item[{vsf\+\_\+pool\+\_\+t $\ast$}]{obj\+\_\+ptr,  }\item[{\mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}}}]{buffer\+\_\+ptr,  }\item[{\mbox{\hyperlink{arm_2type_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}}]{buffer\+\_\+size,  }\item[{\mbox{\hyperlink{arm_2type_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}}]{item\+\_\+size,  }\item[{vsf\+\_\+pool\+\_\+item\+\_\+init\+\_\+evt\+\_\+handler\+\_\+t $\ast$}]{item\+\_\+init\+\_\+fn }\end{DoxyParamCaption})}



add memory to pool ! 


\begin{DoxyParams}{Parameters}
{\em this\+\_\+ptr} & address of the target pool !\\
\hline
{\em buffer\+\_\+ptr} & address of the target memory !\\
\hline
{\em buffer\+\_\+size} & the size of the target memory !\\
\hline
{\em item\+\_\+size} & memory block size of the pool !\\
\hline
{\em item\+\_\+init\+\_\+fn} & block initialisation handler !\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em false} & the buffer size is too small or invalid parameters !\\
\hline
{\em true} & buffer is added \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{vsf__pool_8c_ade8e690c124fc773aafbed53279fee2d}\label{vsf__pool_8c_ade8e690c124fc773aafbed53279fee2d}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_pool\_free@{vsf\_pool\_free}}
\index{vsf\_pool\_free@{vsf\_pool\_free}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_pool\_free()}{vsf\_pool\_free()}}
{\footnotesize\ttfamily void vsf\+\_\+pool\+\_\+free (\begin{DoxyParamCaption}\item[{vsf\+\_\+pool\+\_\+t $\ast$}]{obj\+\_\+ptr,  }\item[{\mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}}}]{p\+Item }\end{DoxyParamCaption})}



return a memory block to the target pool ! 


\begin{DoxyParams}{Parameters}
{\em this\+\_\+ptr} & address of the target pool !\\
\hline
{\em p\+Item} & target memory block ! \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}
\mbox{\Hypertarget{vsf__pool_8c_a9d3f4a3634a10c1eb33ed90eaf89bc62}\label{vsf__pool_8c_a9d3f4a3634a10c1eb33ed90eaf89bc62}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_pool\_get\_count@{vsf\_pool\_get\_count}}
\index{vsf\_pool\_get\_count@{vsf\_pool\_get\_count}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_pool\_get\_count()}{vsf\_pool\_get\_count()}}
{\footnotesize\ttfamily \mbox{\hyperlink{arm_2type_8h_a226d967fb6d06433caf43f20dc876aae}{uint\+\_\+fast16\+\_\+t}} vsf\+\_\+pool\+\_\+get\+\_\+count (\begin{DoxyParamCaption}\item[{vsf\+\_\+pool\+\_\+t $\ast$}]{obj\+\_\+ptr }\end{DoxyParamCaption})}



get the number of memory blocks available in the target pool ! 


\begin{DoxyParams}{Parameters}
{\em this\+\_\+ptr} & address of the target pool ! \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of memory blocks 
\end{DoxyReturn}
\mbox{\Hypertarget{vsf__pool_8c_a4ca90e14bc04840a37393a7e2512135c}\label{vsf__pool_8c_a4ca90e14bc04840a37393a7e2512135c}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_pool\_get\_tag@{vsf\_pool\_get\_tag}}
\index{vsf\_pool\_get\_tag@{vsf\_pool\_get\_tag}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_pool\_get\_tag()}{vsf\_pool\_get\_tag()}}
{\footnotesize\ttfamily \mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}} vsf\+\_\+pool\+\_\+get\+\_\+tag (\begin{DoxyParamCaption}\item[{vsf\+\_\+pool\+\_\+t $\ast$}]{obj\+\_\+ptr }\end{DoxyParamCaption})}



get the address of the object which is attached to the pool ! 


\begin{DoxyParams}{Parameters}
{\em this\+\_\+ptr} & address of the target pool ! \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the address of the object 
\end{DoxyReturn}
\mbox{\Hypertarget{vsf__pool_8c_a01845048250d0cdb1b4e9ada77069144}\label{vsf__pool_8c_a01845048250d0cdb1b4e9ada77069144}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_pool\_set\_tag@{vsf\_pool\_set\_tag}}
\index{vsf\_pool\_set\_tag@{vsf\_pool\_set\_tag}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_pool\_set\_tag()}{vsf\_pool\_set\_tag()}}
{\footnotesize\ttfamily \mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}} vsf\+\_\+pool\+\_\+set\+\_\+tag (\begin{DoxyParamCaption}\item[{vsf\+\_\+pool\+\_\+t $\ast$}]{obj\+\_\+ptr,  }\item[{\mbox{\hyperlink{arm_2type_8h_a09674b9e56fd7a93a2169aa9210deec7}{uintptr\+\_\+t}}}]{target\+\_\+ptr }\end{DoxyParamCaption})}



set the address of the object which is attached to the pool ! 


\begin{DoxyParams}{Parameters}
{\em this\+\_\+ptr} & address of the target pool ! \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the address of the object 
\end{DoxyReturn}
\mbox{\Hypertarget{vsf__pool_8c_a3f0cbecea38ab130283817d0139a0a0b}\label{vsf__pool_8c_a3f0cbecea38ab130283817d0139a0a0b}} 
\index{vsf\_pool.c@{vsf\_pool.c}!vsf\_pool\_get\_region@{vsf\_pool\_get\_region}}
\index{vsf\_pool\_get\_region@{vsf\_pool\_get\_region}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{vsf\_pool\_get\_region()}{vsf\_pool\_get\_region()}}
{\footnotesize\ttfamily vsf\+\_\+protect\+\_\+region\+\_\+t$\ast$ vsf\+\_\+pool\+\_\+get\+\_\+region (\begin{DoxyParamCaption}\item[{vsf\+\_\+pool\+\_\+t $\ast$}]{obj\+\_\+ptr }\end{DoxyParamCaption})}



get the address of the code region used by this pool ! 


\begin{DoxyParams}{Parameters}
{\em this\+\_\+ptr} & address of the target pool ! \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the address of the code region 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{vsf__pool_8c_aa98ef64b200548a2ee7588cfc532b131}\label{vsf__pool_8c_aa98ef64b200548a2ee7588cfc532b131}} 
\index{vsf\_pool.c@{vsf\_pool.c}!VSF\_POOL@{VSF\_POOL}}
\index{VSF\_POOL@{VSF\_POOL}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{VSF\_POOL}{VSF\_POOL}}
{\footnotesize\ttfamily const i\+\_\+pool\+\_\+t VSF\+\_\+\+POOL}

\mbox{\Hypertarget{vsf__pool_8c_a7a9b9d65338f50cfe02a234e691d5a31}\label{vsf__pool_8c_a7a9b9d65338f50cfe02a234e691d5a31}} 
\index{vsf\_pool.c@{vsf\_pool.c}!pool\_list@{pool\_list}}
\index{pool\_list@{pool\_list}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{pool\_list}{pool\_list}}
{\footnotesize\ttfamily \mbox{\hyperlink{structvsf__slist__t}{vsf\+\_\+slist\+\_\+t}} pool\+\_\+list}

\mbox{\Hypertarget{vsf__pool_8c_a777e1288fdf67db2f87e7bed860fefc0}\label{vsf__pool_8c_a777e1288fdf67db2f87e7bed860fefc0}} 
\index{vsf\_pool.c@{vsf\_pool.c}!pool\_cnt@{pool\_cnt}}
\index{pool\_cnt@{pool\_cnt}!vsf\_pool.c@{vsf\_pool.c}}
\doxysubsubsection{\texorpdfstring{pool\_cnt}{pool\_cnt}}
{\footnotesize\ttfamily \mbox{\hyperlink{arm_2type_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}} pool\+\_\+cnt}

